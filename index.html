<html>
  <head>
    <script src="./modules/game.js" type="module"></script>
  </head>
  <body>
    <canvas id="canvas" width=200 height=200 style="background-color: #ddd;"></canvas>

    <script>

      var tileWidth = 20;
      var tileHeight = 20;

      var tileset = {
        path: [
          [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
          [ 0, 1, 0, 0, 0, 0, 0, 0, 0, 0 ],
          [ 0, 0, 1, 0, 0, 1, 1, 1, 0, 0 ],
          [ 0, 0, 0, 0, 1, 0, 0, 1, 0, 0 ],
          [ 0, 0, 0, 1, 1, 0, 0, 1, 1, 0 ],
          [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
          [ 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 ],
          [ 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 ],
          [ 0, 0, 0, 1, 0, 0, 0, 0, 0, 0 ],
          [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
        ],
        tiles: [
          [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
          [ 0, 3, 0, 0, 0, 0, 0, 0, 0, 0 ],
          [ 0, 0, 3, 0, 0, 3, 3, 3, 0, 0 ],
          [ 0, 0, 0, 0, 3, 0, 0, 3, 0, 0 ],
          [ 0, 0, 0, 3, 3, 0, 0, 3, 3, 0 ],
          [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
          [ 0, 0, 3, 0, 0, 0, 0, 0, 0, 0 ],
          [ 0, 0, 0, 0, 0, 0, 3, 0, 0, 0 ],
          [ 0, 0, 0, 3, 0, 0, 0, 0, 0, 0 ],
          [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
        ]
      };

      document.addEventListener( "DOMContentLoaded", function( event ) {
              window.game = new Game( {
                tileset: tileset,
                canvas: canvas
              } );

              window.player = new Player( {
                pos: {
                  x: 0, y: 0
                }
              } );

              window.simpleMob = new SimpleMob( {
                pos: {
                  x: 9, y: 9
                }
              } );

              canvas.addEventListener( "click", function( event ) {
                player.move( event );
              } );

              game.Engine.Map.add( player );
              game.Engine.Map.add( simpleMob );
              requestAnimationFrame( game.tick );
      } );

    </script>
  </body>

</html>
